@page "/wizard"

@using AcsaDemo.Components
@using AcsaDemo.Model
<link href="WizardView.styles.css" rel="stylesheet">
<section class="text-center colorEncabezado">
    <div class="row mb-4">
            <img src="/Resources/logoAcsa.svg" class="img-fluid col-6" alt="" />
    </div>
    <div class="row col-12 mb-4">
        <h6>Formulario seguro medico</h6>
        <h2>PSM Internacional</h2>
    </div>
</section>

<Wizard Id="DemoWizard">
    <WizardStep Name="First Step">
        <div class="card-no-border mb-3">
            <div class="card-body p-0">
                <div class="card-title mb-3">
                    <h5 class="colorEncabezado">Bienvenido al sistema de aceptacion digital ACSA</h5>
                    <br />
                    <p>Podra completar y firmar los siguientes documentos para la emision de su seguro</p>
                </div>
                <ol class="list-unstyled colorLista">
                    <li>&#8226; Solicitud de Seguro</li>
                    <li>&#8226; Declaracion Jurada</li>
                    <li>&#8226; Ficha Integral</li>
                    <li>&#8226; Oferta de Seguro</li>
                </ol>
            </div>
        </div>
    </WizardStep>
    <WizardStep Name="Second Step">
        <EditForm Model="_inter" OnSubmit="enviar">
            <DataAnnotationsValidator></DataAnnotationsValidator>
            <div class="form-group row">
                <!--DETALLES DE INTERMEDIARIO O CLIENTE-->
                <label for="nit">Nit:</label>
                <InputText id="nit" class="form-control" @bind-Value="_inter.nit" @oninput="recibir"></InputText>
                <ValidationMessage For="(()=>_inter.nit)" ></ValidationMessage>
                <label for="correo">Correo:</label>
                <InputText id="correo" class="form-control" @bind-Value="_inter.correo"></InputText>

                <!--DETALLES DE LA OFERTA SEGUN CLIENTE-->
                <label for="titular">Asegurado titular: </label>
                <InputText id="titular" class="form-control" @bind-Value="_oferta.conyuge"></InputText>
                <label for="titular">Fecha de nacimiento conyuge: </label>
                <InputDate id="titular" class="form-control" @bind-Value="_oferta.fecha_nac_conyuge"></InputDate>
                <label for="titular">No de hijos a asegurar: </label>
                <InputNumber id="titular" class="form-control" @bind-Value="_oferta.n_hijos"></InputNumber>
                <label for="titular">Suma de vida para titular: </label>
                <InputNumber id="titular" class="form-control" @bind-Value="_oferta.suma_titular"></InputNumber>
                <label for="titular">Suma de vida para conyuge: </label>
                <InputNumber id="titular" class="form-control" @bind-Value="_oferta.suma_conyuge"></InputNumber>
                <label for="titular">Valor primera cuota: </label>
                <InputNumber id="titular" class="form-control" @bind-Value="_oferta.valor_pcuota"></InputNumber>
                <label for="titular">Valor cuota sucesiva: </label>
                <InputNumber id="titular" class="form-control" @bind-Value="_oferta.valor_csucesiva"></InputNumber>
            </div>
        </EditForm>
    </WizardStep>
</Wizard>

@code {
    private string? nit;
    private Intermediario _inter { get; set; } = new Intermediario();
    private Oferta _oferta { get; set; } = new Oferta();
    private void enviar() { }
    private void recibir(ChangeEventArgs e)
    {
        nit = e?.Value?.ToString();

    }
}